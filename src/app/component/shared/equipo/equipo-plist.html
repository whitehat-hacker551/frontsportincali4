<div class="container my-2">
  <div class="d-flex justify-content-center my-3">
    <h1>Lista de Equipos</h1>
  </div>

  <!-- Aviso (mensaje opcional no usado en PlistEquipo) -->
  <!-- placeholder for parity with articulo component -->

  <!-- B√∫squeda por nombre/categor√≠a/entrenador -->
  <div class="d-flex justify-content-center my-2">
    <div style="max-width:720px; width:100%;">
      <div class="input-group input-group-sm">
        <span class="input-group-text">üîç</span>
        <input
          class="form-control me-2"
          type="search"
          placeholder="Buscar por nombre, categor√≠a o entrenador"
          aria-label="Search"
          [(ngModel)]="searchTerm"
          (ngModelChange)="onSearchTermChange($event)"
          name="search"
        />
        <button class="btn btn-outline-primary" type="button" (click)="onSearch()">Buscar</button>
        <button class="btn btn-outline-secondary" type="button" (click)="(searchTerm = ''); onSearch();">‚úñ</button>
      </div>
    </div>
  </div>

  <div class="d-flex justify-content-center my-1">
    <small class="text-muted">Total registros: {{ totalElements || 0 }}</small>
  </div>

  <!-- Ocultar paginaci√≥n y RPP si no hay registros -->
  <div *ngIf="totalElements > 0" class="d-flex justify-content-between my-1">
    <app-paginacion [numPage]="pageNumber" [numPages]="totalPages" (pageChange)="onPageChange($event)"></app-paginacion>
    <app-botonera-rpp [numRpp]="pageSize" (rppChange)="onSizeChange($event)"></app-botonera-rpp>
  </div>

  <div class="d-flex justify-content-center">
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col" style="width: 5%">ID</th>
          <th scope="col" style="width: 35%">Nombre</th>
          <th scope="col" style="width: 25%">Categoria</th>
          <th scope="col" style="width: 25%">Entrenador</th>
          <th scope="col" style="width: 10%">Jugadores</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let equipo of getFilteredEquipos(); let i = index">
          <th scope="row" style="text-align: center">{{ equipo.id }}</th>
          <td>{{ equipo.nombre }}</td>
          <td>
            {{ equipo.categoria?.nombre }} {{ ' (' + (equipo.categoria?.id ?? '') + ')' }}
          </td>
          <td>
            {{ equipo.entrenador?.nombre }} {{ equipo.entrenador?.apellido1 }}
            <small class="text-muted">({{ equipo.entrenador?.id }})</small>
          </td>
          <td style="text-align: center">{{ equipo.jugadores }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="d-flex justify-content-center my-2">
    <small class="text-muted">P√°gina {{ pageNumber + 1 }} de {{ totalPages }}</small>
  </div>
</div>
            
